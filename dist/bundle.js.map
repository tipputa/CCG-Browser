{"version":3,"file":"bundle.js","sources":["../src/utils/test.js","../src/utils/myUnderscore.js","../src/utils/selector.js","../src/utils/fetch.js","../src/utils/color.js","../src/common/viewer.js","../src/sequenceAlignment/option.js","../src/sequenceAlignment/multipleSequenceAlignment.js"],"sourcesContent":["/**\r\n * Test functio nto print text message\r\n * @param {*} txt input text message\r\n */\r\nfunction message(txt) {\r\n    console.log(txt);\r\n    console.log(this.v);\r\n}\r\n\r\nclass BaseClass {\r\n    constructor() {\r\n        this.name = \"my name\";\r\n    }\r\n    echoName() {\r\n        console.log(this.name);\r\n    }\r\n}\r\n\r\nclass GraphicBase extends BaseClass {\r\n    constructor() {\r\n        super();\r\n        this.v = \"a\";\r\n        this.name = \"new name\";\r\n        this.echo = message;\r\n    }\r\n\r\n    get() {\r\n        return this.v;\r\n    }\r\n}\r\n\r\n\r\nconst getFunc = (data) => {\r\n    return (txt) => {\r\n        console.log(txt);\r\n    }\r\n}\r\n\r\nexport const func = getFunc(\"tmp\");\r\nexport {\r\n    GraphicBase\r\n}","// almost same functions as underscore.js\r\n// ref: https: //underscorejs.org/docs/underscore.html\r\n\r\nconst nativeIsArray = Array.isArray,\r\n    nativeKeys = Object.keys,\r\n    nativeCreate = Object.create;\r\n\r\nconst shallowProperty = function (key) {\r\n    return function (obj) {\r\n        return obj == null ? void 0 : obj[key];\r\n    };\r\n};\r\n\r\nconst MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\r\nconst getLength = shallowProperty('length');\r\nconst isArrayLike = function (collection) {\r\n    const length = getLength(collection);\r\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\r\n};\r\n\r\nconst optimizeCb = function (func, context, argCount) {\r\n    if (context === void 0) return func;\r\n    switch (argCount == null ? 3 : argCount) {\r\n        case 1:\r\n            return function (value) {\r\n                return func.call(context, value);\r\n            };\r\n        case 3:\r\n            return function (value, index, collection) {\r\n                console.log(context);\r\n                return func.call(context, value, index, collection);\r\n            };\r\n        case 4:\r\n            return function (accumulator, value, index, collection) {\r\n                return func.call(context, accumulator, value, index, collection);\r\n            };\r\n    }\r\n    return function () {\r\n        return func.apply(context, arguments);\r\n    };\r\n};\r\n\r\nconst isObject = function (obj) {\r\n    var type = typeof obj;\r\n    return type === 'function' || type === 'object' && !!obj;\r\n};\r\n\r\nconst getKeys = function (obj) {\r\n    if (!isObject(obj)) return [];\r\n    if (nativeKeys) return nativeKeys(obj);\r\n    var keys = [];\r\n    for (var key in obj)\r\n        if (has(obj, key)) keys.push(key);\r\n\r\n    return keys;\r\n};\r\n\r\n\r\nexport const each = function (obj, iteratee, context) {\r\n    iteratee = optimizeCb(iteratee, context);\r\n    var i, length;\r\n    if (isArrayLike(obj)) {\r\n        for (i = 0, length = obj.length; i < length; i++) {\r\n            iteratee(obj[i], i, obj);\r\n        }\r\n    } else {\r\n        const keys = getKeys(obj);\r\n        for (i = 0, length = keys.length; i < length; i++) {\r\n            iteratee(obj[keys[i]], keys[i], obj);\r\n        }\r\n    }\r\n    return obj;\r\n};","import * as _ from \"./myUnderscore.js\";\r\n\r\n/**\r\n * faster than select;\r\n * @param {string} elements id\r\n */\r\nclass Selector {\r\n    constructor(elements) {\r\n        this.elements = elements;\r\n        this.mouse = null;\r\n    }\r\n\r\n    on(eventType, callback, context, capture = false) {\r\n        _.each(this.elements, (el) => {\r\n            el.addEventListener(eventType, () => {\r\n                const rect = el.getBoundingClientRect();\r\n                this.mouse = [event.clientX - rect.left - el.clientLeft, event.clientY - rect.top - el.clientTop];\r\n                callback.call(context);\r\n                this.mouse = null;\r\n            }, capture);\r\n        });\r\n        return this;\r\n    }\r\n\r\n    create(elementName) {\r\n        const elements = [];\r\n        _.each(this.elements, (el) => {\r\n            const newEle = document.createElement(elementName);\r\n            el.appendChild(newEle);\r\n            elements.push(el.lastElementChild);\r\n        });\r\n        return new Selector(elements);\r\n    }\r\n\r\n    style(stylName, styleValue) {\r\n        _.each(this.elements, (el) => {\r\n            el.style.setProperty(stylName, styleValue);\r\n        });\r\n        return this;\r\n    }\r\n\r\n    attr(attrName, attrValue) {\r\n        _.each(this.elements, (el) => {\r\n            el.setAttribute(attrName, attrValue);\r\n        });\r\n        return this;\r\n    }\r\n\r\n    setClass(className) {\r\n        return this.attr(\"class\", className);\r\n    }\r\n\r\n    setID(idName) {\r\n        return this.attr(\"id\", idName);\r\n    }\r\n\r\n    html(text) {\r\n        if (arguments.length == 1) {\r\n            if (text) {\r\n                _.each(this.elements, (el) => {\r\n                    el.textContent = text;\r\n                });\r\n            } else {\r\n                _.each(this.elements, (el) => {\r\n                    el.textContent = text;\r\n                });\r\n                return this;\r\n            }\r\n        } else {\r\n            const res = []\r\n            _.each(this.elements, (el) => {\r\n                res.push(el.textContent);\r\n            });\r\n            if (res.length === 1) return res[0];\r\n            return res;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * faster than select;\r\n * @param {string} idName ID name\r\n */\r\nexport const selectID = (idName) => {\r\n    return new Selector([document.getElementById(idName)]);\r\n}\r\n\r\n/**\r\n * faster than select;\r\n * @param {string} className class name\r\n */\r\nexport const selectClass = (className) => {\r\n    return new Selector([document.getElementsByClassName(className)]);\r\n}\r\n\r\n/**\r\n * selectID or selectClass is much fast;\r\n * @param {string} name css name\r\n */\r\nexport const select = (name) => {\r\n    return new Selector(\r\n        [document.querySelector(name)]\r\n    );\r\n}\r\n\r\n/**\r\n * selectID or selectClass is much fast;\r\n * @param {string} name css name\r\n */\r\nexport const selectAll = (name) => {\r\n    return new Selector(document.querySelectorAll(name));\r\n}","//\r\n// my fetch functions\r\n// ref: https://github.com/d3/d3-fetch\r\n\r\nexport const text = (input, init) => {\r\n    return fetch(input, init).then((response) => {\r\n        if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\r\n        return response.text();\r\n    });\r\n}\r\n\r\nexport const json = (input, init) => {\r\n    return fetch(input, init).then((response) => {\r\n        if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\r\n        return response.json();\r\n    });\r\n}","const hsvToRgb = (H, S, V) => {\r\n    // https://qiita.com/hachisukansw/items/633d1bf6baf008e82847\r\n    var C = V * S;\r\n    var Hp = H / 60;\r\n    var X = C * (1 - Math.abs(Hp % 2 - 1));\r\n\r\n    var R, G, B;\r\n    if (0 <= Hp && Hp < 1) {\r\n        [R, G, B] = [C, X, 0]\r\n    } else if (1 <= Hp && Hp < 2) {\r\n        [R, G, B] = [X, C, 0]\r\n    } else if (2 <= Hp && Hp < 3) {\r\n        [R, G, B] = [0, C, X]\r\n    } else if (3 <= Hp && Hp < 4) {\r\n        [R, G, B] = [0, X, C]\r\n    } else if (4 <= Hp && Hp < 5) {\r\n        [R, G, B] = [X, 0, C]\r\n    } else if (5 <= Hp && Hp < 6) {\r\n        [R, G, B] = [C, 0, X]\r\n    }\r\n\r\n    var m = V - C;\r\n    [R, G, B] = [R + m, G + m, B + m];\r\n\r\n    R = Math.floor(R * 255);\r\n    G = Math.floor(G * 255);\r\n    B = Math.floor(B * 255);\r\n    return [R, G, B];\r\n}\r\n\r\nconst COLER_ARR = []\r\nfor (let k = 1; k >= 0.5; k -= 0.1) {\r\n    for (let j = 1; j >= 0.5; j -= 0.25) {\r\n        for (let i = 0; i < 360; i++) {\r\n            COLER_ARR.push(\"rgb(\" + hsvToRgb(i, j, k).join(\",\") + \")\");\r\n        }\r\n    }\r\n}\r\n\r\nconst getColorPallet = (i) => {\r\n    return COLER_ARR[i * 12]\r\n}\r\n\r\nexport const getColors = (i, stepSize) => {\r\n    return COLER_ARR[i * stepSize]\r\n}\r\n\r\nconst PROTEIN_COL_V1 = {}\r\n\r\nPROTEIN_COL_V1[\"A\"] = getColorPallet(0);\r\nPROTEIN_COL_V1[\"B\"] = getColorPallet(1);\r\nPROTEIN_COL_V1[\"C\"] = getColorPallet(2);\r\nPROTEIN_COL_V1[\"D\"] = getColorPallet(3);\r\nPROTEIN_COL_V1[\"E\"] = getColorPallet(4);\r\nPROTEIN_COL_V1[\"F\"] = getColorPallet(5);\r\nPROTEIN_COL_V1[\"G\"] = getColorPallet(6);\r\nPROTEIN_COL_V1[\"H\"] = getColorPallet(7);\r\nPROTEIN_COL_V1[\"I\"] = getColorPallet(8);\r\nPROTEIN_COL_V1[\"J\"] = getColorPallet(9);\r\nPROTEIN_COL_V1[\"K\"] = getColorPallet(10);\r\nPROTEIN_COL_V1[\"L\"] = getColorPallet(11);\r\nPROTEIN_COL_V1[\"M\"] = getColorPallet(12);\r\nPROTEIN_COL_V1[\"N\"] = getColorPallet(13);\r\nPROTEIN_COL_V1[\"O\"] = getColorPallet(14);\r\nPROTEIN_COL_V1[\"P\"] = getColorPallet(15);\r\nPROTEIN_COL_V1[\"Q\"] = getColorPallet(16);\r\nPROTEIN_COL_V1[\"R\"] = getColorPallet(17);\r\nPROTEIN_COL_V1[\"S\"] = getColorPallet(18);\r\nPROTEIN_COL_V1[\"T\"] = getColorPallet(19);\r\nPROTEIN_COL_V1[\"U\"] = getColorPallet(20);\r\nPROTEIN_COL_V1[\"V\"] = getColorPallet(21);\r\nPROTEIN_COL_V1[\"W\"] = getColorPallet(22);\r\nPROTEIN_COL_V1[\"X\"] = getColorPallet(23);\r\nPROTEIN_COL_V1[\"Y\"] = getColorPallet(24);\r\nPROTEIN_COL_V1[\"Z\"] = getColorPallet(25);\r\nPROTEIN_COL_V1[\"-\"] = \"rgb(200,200,200)\";\r\n\r\nexport {\r\n    PROTEIN_COL_V1,\r\n    COLER_ARR\r\n}","export class Viewer {\r\n    constructor() {\r\n        this.height = 500;\r\n        this.width = 500;\r\n        this.mainCanvas = null;\r\n        this.isDragging = false;\r\n    }\r\n}","const size = {\r\n    width: 0,\r\n    height: 0,\r\n    left: 0,\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n}\r\n\r\nconst font = {\r\n    fontSize: 13\r\n}\r\nexport const options = {\r\n    id: \"def\",\r\n    setSize: false,\r\n    height: 600,\r\n    width: 600,\r\n    seqHeight: 12,\r\n    isGrouping: true,\r\n    header: {\r\n        ...size,\r\n        ...font,\r\n        height: 50\r\n    },\r\n    label: {\r\n        ...size,\r\n        ...font,\r\n        fontSize: 9,\r\n        left: 10,\r\n        top: 0,\r\n        width: 200\r\n    },\r\n    sequence: {\r\n        ...size,\r\n        ...font,\r\n        fontSize: 9,\r\n        left: 10,\r\n        top: 3,\r\n        width: 480,\r\n        topMargin: 0,\r\n        bottomMargin: 0\r\n    }\r\n}","import {\r\n    Viewer\r\n} from \"../common/viewer\";\r\nimport {\r\n    options\r\n} from \"./option\";\r\nimport * as utils from \"../utils/index\";\r\n\r\nclass AlignmentPosition {\r\n    constructor(size) {\r\n        this.start = 0;\r\n        this.end = size;\r\n        this.size = size;\r\n    }\r\n}\r\n\r\nconst getGroup = (dicArr) => {\r\n    const _group = {};\r\n    let counter = 0;\r\n    utils.each(dicArr, (val, i, arr) => {\r\n        if (val[\"group\"] in _group) {\r\n            _group[val[\"group\"]].count++;\r\n            _group[val[\"group\"]].names.push(val[\"name\"])\r\n        } else {\r\n            _group[val[\"group\"]] = {\r\n                count: 1,\r\n                col: utils.getColors(counter++, 45),\r\n                names: [val[\"name\"]]\r\n            }\r\n        }\r\n    });\r\n    return _group;\r\n}\r\n\r\nconst drawCtx = (ctx) => {\r\n    ctx.beginPath();\r\n    ctx.moveTo(200, 50);\r\n    ctx.lineTo(250, 200);\r\n    ctx.lineWidth = 100;\r\n    ctx.strokeStyle = \"black\";\r\n    ctx.fillStyle = \"black\"\r\n    ctx.stroke();\r\n}\r\n\r\nconst initCtx = (ctx, lineWidth) => {\r\n    ctx.lineWidth = lineWidth\r\n}\r\n\r\nconst drawLine = (ctx, startX, endX, startY, endY, strokeStyle) => {\r\n    ctx.beginPath();\r\n    ctx.moveTo(startX, startY);\r\n    ctx.lineTo(endX, endY);\r\n    ctx.strokeStyle = strokeStyle;\r\n    ctx.stroke();\r\n}\r\n\r\nconst refreshCtx = (ctx, width, height) => {\r\n    ctx.clearRect(0, 0, width, height);\r\n}\r\n\r\nexport class Alignment extends Viewer {\r\n    constructor() {\r\n        super();\r\n        this.container = null;\r\n        this.inputJson = null;\r\n        this.options = {\r\n            ...options,\r\n        }\r\n\r\n        this.numSeq = 0;\r\n        this.group = null;\r\n\r\n        this.canvasHeight = 0;\r\n        this.headerContainer = null;\r\n        this.bodyContainer = null;\r\n        this.labelContainer = null;\r\n        this.canvasContainer = null;\r\n        this.ctx = null;\r\n        this.alignmentPosition = null;\r\n        this.baseWidth = 0;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {string} elementID without # \r\n     */\r\n    setContainer(elementID) {\r\n        this.container = utils.selectID(elementID);\r\n        this.options.id = elementID;\r\n        if (!this.options.setSize) {\r\n            this.width = this.container.elements[0].clientWidth;\r\n            this.height = this.container.elements[0].clientHeight;\r\n        } else {\r\n            this.height = this.options.height;\r\n            this.width = this.options.width;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {json} json \r\n     */\r\n    setJson(json) {\r\n        this.inputJson = json;\r\n        this.numSeq = json[\"sequences\"].length;\r\n        this.canvasHeight = this.numSeq * this.options.seqHeight + 50;\r\n        this.alignmentPosition = new AlignmentPosition(json[\"sequences\"][0][\"seq\"].length);\r\n    }\r\n\r\n    render() {\r\n        if (this.options.isGrouping) {\r\n            this.group = getGroup(this.inputJson[\"sequences\"]);\r\n            let counter = 0;\r\n            for (const key in this.group) {\r\n                const name = key;\r\n                utils.each(this.inputJson[\"sequences\"], (val) => {\r\n                    if (val.group === key) {\r\n                        val.order = counter++;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        this._DOMcreate();\r\n        this._drawSequences();\r\n    }\r\n\r\n    _DOMcreate() {\r\n        this.options.sequence.width = this.width - this.options.label.width - this.options.label.left - this.options.sequence.left - this.options.sequence.right;\r\n\r\n        this.headerContainer = this.container.create(\"div\")\r\n            .setID(`${this.options.id}_header`)\r\n        /*   .style(\"height\", this.options.header.height + \"px\")\r\n           .style(\"background-color\", \"green\")\r\n           .html(\"Alignment Viewer Header\");\r\n           */\r\n        this.bodyContainer = this.container.create(\"div\")\r\n            .setID(`${this.options.id}_body`)\r\n            .style(\"position\", \"relative\")\r\n        /*\r\n                this.labelContainer = this.bodyContainer.create(\"div\")\r\n                    .setID(`${this.options.id}_label`)\r\n                    .style(\"position\", \"absolute\")\r\n                    .style(\"height\", `${this.canvasHeight}px`)\r\n                    .style(\"width\", `${this.options.label.width}px`)\r\n                    .style(\"margin-left\", `${this.options.label.left}px`)\r\n                    .style(\"margin-top\", `${this.options.label.top}px`);\r\n          */\r\n        this.canvasContainer = this.bodyContainer.create(\"div\")\r\n            .setID(`${this.options.id}_canvasContainer`)\r\n            .style(\"position\", \"relative\")\r\n            .style(\"height\", `${this.canvasHeight}px`);\r\n\r\n        this.mainCanvas = this.canvasContainer.create(\"canvas\")\r\n            .setID(`${this.options.id}_canvas`)\r\n            .style(\"position\", \"absolute\")\r\n            .style(\"left\", (this.options.label.width + this.options.label.left + this.options.sequence.left) + \"px\")\r\n            .style(\"top\", this.options.sequence.top + \"px\")\r\n            .attr(\"height\", this.canvasHeight)\r\n            .attr(\"width\", this.options.sequence.width);\r\n        this.mainCanvas\r\n            .on(\"mousemove\", () => {\r\n                event.preventDefault();\r\n                if (this.isDragging) {\r\n                    this._move(event.movementX);\r\n                }\r\n            })\r\n            .on(\"mousewheel\", () => {\r\n                event.preventDefault();\r\n                if (event.deltaY > 0) {\r\n                    this._zoomOut();\r\n                } else if (event.deltaY < 0) {\r\n                    this._zoomIn();\r\n                }\r\n            })\r\n            .on(\"mousedown\", () => {\r\n                event.preventDefault();\r\n                // 0: left button, 1: wheel, 2: right\r\n                if (event.button == 0) {\r\n                    this.isDragging = true;\r\n                }\r\n            })\r\n            .on(\"mouseup\", () => {\r\n                event.preventDefault();\r\n                // 0: left button, 1: wheel, 2: right\r\n                if (event.button == 0) {\r\n                    this.isDragging = false;\r\n                }\r\n            })\r\n            .on(\"mouseout\", () => {\r\n                this.isDragging = false;\r\n            })\r\n            .on(\"dblclick\", () => {\r\n                this._zoomIn();\r\n            });\r\n\r\n        this.ctx = this.mainCanvas.elements[0].getContext(\"2d\");\r\n        utils.each(this.inputJson[\"sequences\"], (val) => {\r\n            this._drawSequenceLabel(val);\r\n        });\r\n    }\r\n\r\n    _drawSequences() {\r\n        refreshCtx(this.ctx, this.options.sequence.width, this.canvasHeight);\r\n        const seqWidth = this.options.seqHeight - this.options.sequence.topMargin - this.options.sequence.bottomMargin;\r\n        initCtx(this.ctx, seqWidth);\r\n        utils.each(this.inputJson[\"sequences\"], (val, i) => {\r\n            this._drawSequence(val, i);\r\n        });\r\n    }\r\n\r\n    _drawSequence(alignment) {\r\n        const y = this.options.seqHeight * (alignment[\"order\"] + 1) + this.options.sequence.topMargin;\r\n        const seq = alignment[\"seq\"].substr(this.alignmentPosition.start, parseInt(this.alignmentPosition.end - this.alignmentPosition.start)).split(\"\");\r\n        this.baseWidth = (this.options.sequence.width) / seq.length\r\n        if (this.baseWidth < 10) {\r\n            utils.each(seq, (val, i) => {\r\n                drawLine(this.ctx, i * this.baseWidth, (i + 1) * this.baseWidth, y, y, utils.PROTEIN_COL_V1[val]);\r\n            });\r\n        } else {\r\n            utils.each(seq, (val, i) => {\r\n                this.ctx.beginPath();\r\n                this.ctx.font = this.options.sequence.fontSize + \"px Arial serif\";\r\n                this.ctx.moveTo(i * this.baseWidth, y);\r\n                this.ctx.lineTo((i + 1) * this.baseWidth, y);\r\n                this.ctx.strokeStyle = utils.PROTEIN_COL_V1[val];\r\n                this.ctx.fillStyle = \"black\";\r\n                this.ctx.textAlign = \"center\";\r\n                this.ctx.stroke();\r\n                this.ctx.fillText(val, (i * this.baseWidth) + this.baseWidth / 2, y + this.options.sequence.fontSize * 0.33);\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    _drawSequenceLabel(alignment) {\r\n        const y = this.options.seqHeight * (alignment.order + 1) - this.options.label.fontSize / 2;\r\n        this.bodyContainer.create(\"div\")\r\n            .style(\"position\", \"absolute\")\r\n            .style(\"top\", y + \"px\")\r\n            .style(\"font-size\", this.options.label.fontSize + \"px\")\r\n            .style(\"color\", this.group[alignment[\"group\"]].col)\r\n            .html(alignment.name + \"_\" + alignment[\"group\"]);\r\n    }\r\n\r\n    _zoomIn() {\r\n        let zoomSize = 5;\r\n        if (this.alignmentPosition.end - this.alignmentPosition.start > 30) {\r\n            this.alignmentPosition.start += zoomSize;\r\n            this.alignmentPosition.end -= zoomSize;\r\n        }\r\n        this._drawSequences();\r\n    }\r\n\r\n    _zoomOut() {\r\n        let zoomSize = 5;\r\n        if (this.alignmentPosition.start == 0 && this.alignmentPosition.end == this.alignmentPosition.size) return;\r\n        this.alignmentPosition.start -= zoomSize;\r\n        this.alignmentPosition.end += zoomSize;\r\n        if (this.alignmentPosition.start < 0) {\r\n            this.alignmentPosition.start = 0;\r\n        }\r\n        if (this.alignmentPosition.end > this.alignmentPosition.size) {\r\n            this.alignmentPosition.end = this.alignmentPosition.size;\r\n        }\r\n        this._drawSequences();\r\n    }\r\n\r\n    _move(x) {\r\n        let moveSize = 10;\r\n        if (x > 10) {\r\n            moveSize = 10;\r\n        } else {\r\n            moveSize = 5;\r\n        }\r\n        if (x < 0) {\r\n            this.alignmentPosition.start += moveSize;\r\n            this.alignmentPosition.end += moveSize;\r\n            if (this.alignmentPosition.end > this.alignmentPosition.size) {\r\n                let diff = this.alignmentPosition.end - this.alignmentPosition.size\r\n                this.alignmentPosition.start -= diff;\r\n                this.alignmentPosition.end -= diff;\r\n            }\r\n        } else {\r\n            this.alignmentPosition.start -= moveSize;\r\n            this.alignmentPosition.end -= moveSize;\r\n            if (this.alignmentPosition.start < 0) {\r\n                this.alignmentPosition.start = 0;\r\n                this.alignmentPosition.end += moveSize;\r\n            }\r\n        }\r\n        this._drawSequences();\r\n    }\r\n\r\n}"],"names":["message","txt","console","log","v","BaseClass","name","GraphicBase","echo","getFunc","data","func","nativeKeys","Object","keys","shallowProperty","key","obj","MAX_ARRAY_INDEX","Math","pow","getLength","isArrayLike","collection","length","optimizeCb","context","argCount","value","call","index","accumulator","apply","arguments","isObject","type","getKeys","has","push","each","iteratee","i","Selector","elements","mouse","eventType","callback","capture","_","el","addEventListener","rect","getBoundingClientRect","event","clientX","left","clientLeft","clientY","top","clientTop","elementName","newEle","document","createElement","appendChild","lastElementChild","stylName","styleValue","style","setProperty","attrName","attrValue","setAttribute","className","attr","idName","text","textContent","res","selectID","getElementById","selectClass","getElementsByClassName","select","querySelector","selectAll","querySelectorAll","input","init","fetch","then","response","ok","Error","status","statusText","json","hsvToRgb","H","S","V","C","Hp","X","abs","R","G","B","m","floor","COLER_ARR","k","j","join","getColorPallet","getColors","stepSize","PROTEIN_COL_V1","Viewer","height","width","mainCanvas","isDragging","size","right","bottom","font","fontSize","options","id","setSize","seqHeight","isGrouping","header","label","sequence","topMargin","bottomMargin","AlignmentPosition","start","end","getGroup","dicArr","_group","counter","utils","val","arr","count","names","col","initCtx","ctx","lineWidth","drawLine","startX","endX","startY","endY","strokeStyle","beginPath","moveTo","lineTo","stroke","refreshCtx","clearRect","Alignment","container","inputJson","numSeq","group","canvasHeight","headerContainer","bodyContainer","labelContainer","canvasContainer","alignmentPosition","baseWidth","elementID","clientWidth","clientHeight","order","_DOMcreate","_drawSequences","create","setID","on","preventDefault","_move","movementX","deltaY","_zoomOut","_zoomIn","button","getContext","_drawSequenceLabel","seqWidth","_drawSequence","alignment","y","seq","substr","parseInt","split","fillStyle","textAlign","fillText","html","zoomSize","x","moveSize","diff"],"mappings":"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"}